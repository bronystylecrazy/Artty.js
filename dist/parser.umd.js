!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t||self).arttyJs={})}(this,function(t){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n=function(t,e){for(var n,i=[],o=r(t.childNodes);!(n=o()).done;){var u=n.value;u.nodeType!==Node.TEXT_NODE&&u.hasAttribute("(else)")||i.push(a(u))}return"["+i.join(",")+"]"},i=function(t,e){return void 0===t||"null"==typeof t?"h()":"h('"+t.tagName+"',"+f(t)+","+n(t)+")"},o=function(t,e){if(t.hasAttribute("(for)")){var r=t.getAttribute("(for)");if(t.removeAttribute("(for)"),!r.includes(" in "))return"__.l(("+s(r.trim())+"), () => "+a(t)+")";var n=r.split(" in "),o=n[0],u=n[1];return o=o.trim(),"__.l(("+s(u)+"), ("+o+") => "+a(t)+")"}if(t.hasAttribute("(if)")){r=t.getAttribute("(if)"),t.removeAttribute("(if)");var l=t.nextElementSibling;return null!==l&&l.hasAttribute("(else)")?(l.setAttribute("data-elsed",!0),"(("+s(r)+") ? "+a(t)+" : "+a(l)+")"):"(("+s(r)+") ? "+a(t)+" : "+a()+")"}return i(t)},a=function(t,e){return void 0===t?i():t.nodeType===Node.TEXT_NODE?u(t.textContent):o(t)},u=function(t,e){for(var n,i=[],o="",a=[],u=r(t.replaceAll("\n","\\n").split(""));!(n=u()).done;){var s=n.value;"{"===s?(a.push("{"),a.length>0&&(i.push(o),o="{")):"}"===s?(a.pop(),a.length<=0&&(i.push(o+s),o="")):o+=s}return i.push(o),l(i.filter(function(t){return""!==t}))},s=function(t,e){var n=t||"",i=n.matchAll(/([a-zA-Z_$.][a-zA-Z_$0-9.]*)/gim);if(null===i)return n;for(var o,a=r(i);!(o=a()).done;){var u=o.value,s=u[0],l=u.index;void 0===window[s.split(".")[0]||u]&&(n=n.substring(0,l)+n.substring(l).replace(s.split(".")[0],"(_."+s.split(".")[0]+" || "+s.split(".")[0]+")"))}return n},l=function(t,e){return t.map(function(t){var e="";return t.startsWith("{")&&t.endsWith("}")?(e=t.slice(1,t.length-1).trim(),"__.s("+s(e)+")"):'"'+t+'"'}).join(",")},f=function(t,e){var n=[];if(t.attributes.length>0)for(var i,o=r(t.attributes);!(i=o()).done;){var a=i.value,u=a.name,l=a.value;u.includes(":")?n.push("'"+u.slice(1)+"': "+s(l)):n.push("'"+u+"': '"+l+"'")}return"{ attrs: {"+n.join(",")+"}}"};t.h=i,t.parse=n,t.parseDOM=function(t,e){try{return(new DOMParser).parseFromString(t,"text/html").body}catch(t){throw new Error("Parsing DOM error!")}},t.parseDirective=o,t.parseExpression=s,t.parseFromElement=a,t.parseOptions=f,t.parseReactive=l,t.parseText=u});
//# sourceMappingURL=parser.umd.js.map
