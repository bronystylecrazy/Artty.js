!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("hyperactiv")):"function"==typeof define&&define.amd?define(["exports","hyperactiv"],e):e((t||self).arttyJs={},t.hyperactiv)}(this,function(t,e){function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=function(t,e,r){return void 0===e&&(e={attrs:{},on:{}}),void 0===t?null:Array.isArray(e)?{tag:t,opts:{attrs:{},on:{}},children:e.flat()}:{tag:t,opts:e,children:r.flat()}},o=function(t){return"string"==typeof t?document.createTextNode(t):a(t)},a=function(t){for(var e=document.createElement(t.tag),r=0,n=Object.entries(null==t||null==(u=t.opts)?void 0:u.attrs);r<n.length;r++){var u,a=n[r];e.setAttribute(a[0],a[1])}for(var l,s=i(t.children);!(l=s()).done;){var f=l.value;if(null!==f){var c=o(f);e.appendChild(c)}}return e},l=function(t,e){for(var r=[],n=0;n<Math.min(t.length,e.length);n++)r.push([t[n],e[n]]);return r},s=function(t,e){if(void 0===e)return function(t){t.remove()};if("string"==typeof t||"string"==typeof e)return t!==e?function(t){var r=o(e);return t.replaceWith(r),r}:function(t){};if(t.tagName!==e.tagName)return function(t){var r=o(e);return t.replaceWith(r),r};var r=function(t,e,r){for(var n=[],u=function(){var t=a[o],e=t[0],r=t[1];n.push(function(t){try{t.setAttribute(e,r)}catch(t){}return t})},o=0,a=Object.entries(r);o<a.length;o++)u();var l=function(t){t in e||n.push(function(e){return e.removeAttribute(t),e})};for(var s in e)l(s);return function(t){for(var e,r=i(n);!(e=r()).done;)(0,e.value)(t)}}(0,t.opts.attrs,e.opts.attrs),n=function(t,e){for(var r,n=[],u=[],a=[],f=i(l(t,e));!(r=f()).done;){var c=r.value;n.push(s(c[0],c[1]))}if(t.length<e.length)for(var h,v=function(){var t=h.value;u.push(function(e){var r=o(t);return e.appendChild(r),e})},d=i(e.slice(t.length));!(h=d()).done;)v();else for(var p=0;p<Math.abs(e.length-t.length);p++)a.push(function(t){return t.removeChild(t.lastChild),t});return function(t){for(var e,r=i(l(n,t.childNodes));!(e=r()).done;){var o=e.value;(0,o[0])(o[1])}for(var s,f=i(u);!(s=f()).done;)(0,s.value)(t);for(var c,h=i(a);!(c=h()).done;)(0,c.value)(t);return t}}(t.children,e.children);return function(t){return r(t),n(t),t}},f=function(t,e){for(var r,n=[],u=i(t.childNodes);!(r=u()).done;){var o=r.value;o.nodeType!==Node.TEXT_NODE&&o.hasAttribute("(else)")||n.push(h(o))}return"["+n.join(",")+"]"},c=function(t,e){return void 0===t||"null"==typeof t?"h()":"h('"+t.tagName+"',"+m(t)+","+f(t)+")"},h=function(t,e){return void 0===t?c():t.nodeType===Node.TEXT_NODE?v(t.textContent):function(t,e){if(t.hasAttribute("(for)")){var r=t.getAttribute("(for)");if(t.removeAttribute("(for)"),!r.includes(" in "))return"__.l(("+d(r.trim())+"), () => "+h(t)+")";var n=r.split(" in "),i=n[0],u=n[1];return i=i.trim(),"__.l(("+d(u)+"), ("+i+") => "+h(t)+")"}if(t.hasAttribute("(if)")){r=t.getAttribute("(if)"),t.removeAttribute("(if)");var o=t.nextElementSibling;return null!==o&&o.hasAttribute("(else)")?(o.setAttribute("data-elsed",!0),"(("+d(r)+") ? "+h(t)+" : "+h(o)+")"):"(("+d(r)+") ? "+h(t)+" : "+h()+")"}return c(t)}(t)},v=function(t,e){for(var r,n=[],u="",o=[],a=i(t.replaceAll("\n","\\n").split(""));!(r=a()).done;){var l=r.value;"{"===l?(o.push("{"),o.length>0&&(n.push(u),u="{")):"}"===l?(o.pop(),o.length<=0&&(n.push(u+l),u="")):u+=l}return n.push(u),p(n.filter(function(t){return""!==t}))},d=function(t,e){var r=t||"",n=r.matchAll(/([a-zA-Z_$.][a-zA-Z_$0-9.]*)/gim);if(null===n)return r;for(var u,o=i(n);!(u=o()).done;){var a=u.value,l=a[0],s=a.index;void 0===window[l.split(".")[0]||a]&&(r=r.substring(0,s)+r.substring(s).replace(l.split(".")[0],"(_."+l.split(".")[0]+" || "+l.split(".")[0]+")"))}return r},p=function(t,e){return t.map(function(t){var e="";return t.startsWith("{")&&t.endsWith("}")?(e=t.slice(1,t.length-1).trim(),"__.s("+d(e)+")"):'"'+t+'"'}).join(",")},m=function(t,e){var r=[];if(t.attributes.length>0)for(var n,u=i(t.attributes);!(n=u()).done;){var o=n.value,a=o.name,l=o.value;a.includes(":")?r.push("'"+a.slice(1)+"': "+d(l)):r.push("'"+a+"': '"+l+"'")}return"{ attrs: {"+r.join(",")+"}}"},y=r(e).default.observe;t.createApp=function(t){return{state:y(t),vnodes:[],template:"",$el:null,updateList:[],sync:function(t){var e=this;this.$el=document.querySelector(t),this.template="return h('div',"+f(this.$el)+")";var r=[this.state,this.utils],n=r[0],i=r[1],a=new Function("h","_","__",this.template)(u,n,i),l=o(a),c=this.mount(l,this.$el);return this.state.__handler=function(t,r,n,i){var o=[e.state,e.utils],l=o[0],f=o[1],h=new Function("h","_","__",e.template)(u,l,f),v=s(a,h);c=v(c),e.vnodes=a=h},this},update:function(){for(var t,e=i(this.updateList);!(t=e()).done;)(0,t.value)(this.state);this.$el.removeAttribute("(cloak)")},render:function(t){},nextTick:function(t){this.updateList.push(t)},mount:function(t,e){return e.replaceWith(t),t},utils:{l:function(t,e){var r=[];return"number"==typeof t&&Array.from(Array(t).keys()).forEach(function(t,n){return r.push(e(n,n))}),Array.isArray(t)&&t.forEach(function(t,n){return r.push(e(t,n))}),r},s:function(t){return void 0===t?"":"object"==typeof t?JSON.stringify(t):String(t)}}}}});
//# sourceMappingURL=artty.umd.js.map
